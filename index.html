<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FizicÄƒ - Legea lui Hooke</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root{--primary:#667eea;--secondary:#764ba2;--dark:#2c3e50;--light:#f5f5ff;--border:#e0e0e0}
        *{box-sizing:border-box}body{font-family:'Segoe UI',sans-serif;margin:0;background:linear-gradient(135deg,var(--primary),var(--secondary));display:flex;flex-direction:column;min-height:100vh}
        header{background:linear-gradient(135deg,var(--dark),#34495e);color:#fff;padding:20px;text-align:center;border-bottom:3px solid var(--primary);font-weight:bold;font-size:1.4em;box-shadow:0 4px 6px rgba(0,0,0,.3)}
        .simulation-container{display:flex;flex:1;background:#fff}
        .column{flex:1;padding:20px;display:flex;flex-direction:column}
        .column:first-child{flex:1.2;background:linear-gradient(to right,#fafafa,#fff);border-right:1px solid var(--border)}
        .column:last-child{flex:1;background:linear-gradient(to right,#fff,#fafafa);gap:20px}
        .panel,.table-wrapper,.chart-wrapper{border:2px solid var(--primary);padding:12px;background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(102,126,234,.1)}
        .panel{margin-bottom:15px}
        h2,h3{margin:0 0 10px 0;font-size:.95em}
        h2{background:linear-gradient(135deg,var(--primary),var(--secondary));padding:8px 12px;color:#fff;border-radius:5px}
        .input-group{margin-bottom:10px;display:flex;flex-direction:column;gap:3px}
        .input-group label{font-weight:600;color:#333;font-size:.85em}
        input{width:100%;max-width:110px;padding:6px;font-family:inherit;border:2px solid #ddd;border-radius:5px;transition:border-color .2s;font-size:.9em}
        input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(102,126,234,.1)}
        button{cursor:pointer;background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;border:none;padding:8px 16px;font-family:inherit;border-radius:5px;font-weight:bold;transition:transform .2s,box-shadow .2s;margin-top:5px}
        button:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(102,126,234,.4)}
        button:active{transform:translateY(0)}
        .spring-area{position:relative;background:linear-gradient(to bottom,#f0f4ff,#fff);border:2px solid #ddd;border-radius:8px;overflow:hidden;display:flex;justify-content:center;align-items:flex-start;padding-top:30px;cursor:grab;transition:background .3s ease;flex-grow:1;min-height:300px}
        .spring-area:active{cursor:grabbing;background:linear-gradient(to bottom,#e8eeff,#f5f5ff)}
        .spring-svg{stroke:var(--primary);stroke-width:3;fill:none;filter:drop-shadow(0 2px 4px rgba(102,126,234,.2))}
        .weight{width:60px;height:50px;border:3px solid var(--primary);background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;position:absolute;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:bold;border-radius:6px;box-shadow:0 4px 12px rgba(102,126,234,.3);transition:box-shadow .2s}
        .weight:hover{box-shadow:0 6px 16px rgba(102,126,234,.4)}
        .force-display{position:absolute;font-size:13px;color:var(--primary);font-weight:bold;pointer-events:none;background:rgba(255,255,255,.9);padding:3px 8px;border-radius:4px}
        .table-wrapper{flex:0 0 auto;max-height:280px;overflow-y:auto}
        .table-wrapper h3{color:var(--primary)}
        .chart-wrapper{flex:1;min-height:250px;position:relative}
        .chart-wrapper h3{display:flex;justify-content:space-between;align-items:center;color:var(--primary)}
        .chart-wrapper h3 button{padding:4px 10px;font-size:.8em;margin:0}
        table{width:100%;border-collapse:collapse;font-size:.75em}
        th,td{border:1px solid #ddd;padding:5px;text-align:center}
        th{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;font-weight:bold}
        tr:hover{background:var(--light);animation:slideIn .3s ease}
        footer{text-align:center;padding:15px;background:linear-gradient(135deg,var(--dark),#34495e);color:#aaa;margin-top:auto;border-top:3px solid var(--primary)}
        @keyframes slideIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    </style>
</head>
<body>
<header>PROIECT LEGEA LUI HOOKE</header>
<div class="simulation-container">
    <div class="column">
        <div class="panel">
            <h2>ðŸ”§ Simulare Legea lui Hooke</h2>
            <p style="color:var(--primary);font-size:.95em;margin:0 0 15px;"><strong>Introdu 2 valori, calculez a 3-a:</strong></p>
            <div class="input-group"><label for="mass">Masa (g)</label><input type="number" id="mass" placeholder="ex: 200" oninput="autoCalculate()"></div>
            <div class="input-group"><label for="constant">Constanta k (N/m)</label><input type="number" id="constant" placeholder="ex: 50" oninput="autoCalculate()"></div>
            <div class="input-group"><label for="extension">Alungire Î”L (cm)</label><input type="number" id="extension" placeholder="ex: 10" oninput="autoCalculate()"></div>
            <div style="margin-top:12px;padding:10px;background:#f0f4ff;border-radius:8px;border-left:4px solid var(--primary);font-size:.9em;">
                <p style="margin:3px 0;color:#333;"><strong>ForÈ›Äƒ:</strong> <span id="displayForce" style="color:var(--secondary);font-weight:bold;">? N</span></p>
                <p style="margin:3px 0;color:#333;"><strong>Status:</strong> <span id="status" style="color:var(--primary);font-weight:bold;font-size:.9em;">Introdu 2</span></p>
            </div>
            <div style="display:flex;gap:10px;margin-top:10px;">
                <button onclick="saveToTable()" style="flex:1;padding:6px 12px;font-size:.85em;">AdaugÄƒ tabel</button>
                <button onclick="saveToGraph()" style="flex:1;padding:6px 12px;font-size:.85em;">AdaugÄƒ grafic</button>
            </div>
        </div>
        <div class="spring-area" id="spring-area-main">
            <svg class="spring-svg" id="svg-main" width="70" height="100"><path id="path-main" d=""></path></svg>
            <div id="weight-main" class="weight">m</div>
            <div class="force-display" id="force-text-main"></div>
        </div>
    </div>
    <div class="column">
        <div class="table-wrapper">
            <h3>ðŸ“Š Istoric</h3>
            <table><thead><tr><th>m (g)</th><th>k (N/m)</th><th>Î”L (cm)</th><th>F (N)</th></tr></thead><tbody id="history-table"></tbody></table>
        </div>
        <div class="chart-wrapper">
            <h3>ðŸ“ˆ Grafic F vs Î”L<button onclick="resetChart()">RESET</button></h3>
            <canvas id="chartCanvas"></canvas>
        </div>
    </div>
</div>
<footer>* proiect realizat pentru lucrarea de laborator | 2026 *</footer>
<script>
const g=9.81,C=e=>document.getElementById(e);let H=[],D=null,Chart$=null,Data$={forces:[],extensions:[]},Last={};const DrawSpring=(p,h)=>{h=Math.min(parseFloat(h),700);const L=15,n=Math.max(8,Math.ceil(h/35)),lH=(h-40)/n;let d=`M35,0 Q30,7 35,15`;for(let i=0;i<n;i++){let[x1,x2]=i%2?[52,18]:[18,52],y=L+i*lH,yM=y+lH/2;d+=` Q${x1},${yM} ${x2},${y+lH}`}d+=` Q30,${h-7} 35,${h}`;C(p).setAttribute('d',d);C('svg-main').setAttribute('height',h)};const Animate=(w,sT,eT)=>{const el=C(w),t0=Date.now();const anim=()=>{const e=Date.now()-t0,pr=Math.min(e/1e3,1),ease=pr===0?0:pr===1?1:Math.pow(2,-10*pr)*Math.sin((pr-.075)*(2*Math.PI)/4.5)+1;el.style.top=(sT+(eT-sT)*ease)+"px";pr<1&&requestAnimationFrame(anim)};anim()};const UpdateForce=(f,dl)=>{const d=C('force-text-main'),tp=parseFloat(C('weight-main').style.top)||(95+dl*3);d.style.top=(tp-30)+"px";d.textContent=`F=${f.toFixed(2)}N`};const UpdateChart=()=>{const mx=Math.max(...Data$.extensions,15)*1.15,my=Math.max(...Data$.forces,1)*1.15,ctx=C('chartCanvas');if(Chart$){Chart$.data.datasets[0].data=Data$.extensions.map((e,i)=>({x:e,y:Data$.forces[i]}));Chart$.options.scales.x.max=mx;Chart$.options.scales.y.max=my;Chart$.update()}else{Chart$=new Chart(ctx,{type:'scatter',data:{datasets:[{label:'F vs Î”L',data:Data$.extensions.map((e,i)=>({x:e,y:Data$.forces[i]})),borderColor:'#667eea',backgroundColor:'rgba(102,126,234,.1)',borderWidth:2,pointRadius:5,pointHoverRadius:7,pointBackgroundColor:'#764ba2',pointBorderColor:'#667eea',pointBorderWidth:1.5,showLine:true,tension:.3}]},options:{responsive:true,maintainAspectRatio:true,plugins:{legend:{display:true,position:'top',labels:{font:{size:11},padding:10}}},scales:{x:{title:{display:true,text:'Î”L (cm)',font:{size:10,weight:'bold'}},min:0,max:mx,grid:{color:'rgba(102,126,234,.1)'}},y:{title:{display:true,text:'ForÈ›Äƒ (N)',font:{size:10,weight:'bold'}},min:0,max:my,grid:{color:'rgba(102,126,234,.1)'}}}}}})}}window.autoCalculate=()=>{const m=parseFloat(C('mass').value),k=parseFloat(C('constant').value),dl=parseFloat(C('extension').value),cnt=[m,k,dl].filter(v=>!isNaN(v)&&v>0).length;if(cnt<2){C('status').textContent='Introdu 2';C('displayForce').textContent='? N';return}let cM=m,cK=k,cDl=dl;if(!isNaN(m)&&m>0&&!isNaN(k)&&k>0){const F=(m/1e3)*g;cDl=(F/k)*100;C('extension').value=cDl.toFixed(2);C('status').textContent='Î”L âœ“'}else if(!isNaN(m)&&m>0&&!isNaN(dl)&&dl>0){const F=(m/1e3)*g;cK=F/(dl/100);C('constant').value=cK.toFixed(2);C('status').textContent='k âœ“'}else if(!isNaN(k)&&k>0&&!isNaN(dl)&&dl>0){const F=k*(dl/100);cM=(F/g)*1e3;C('mass').value=cM.toFixed(2);C('status').textContent='m âœ“'}const F=(cM/1e3)*g;C('displayForce').textContent=F.toFixed(2)+' N';const oh=parseFloat(C('svg-main').getAttribute('height'))||95,nh=95+cDl*3;DrawSpring('path-main',nh);Animate('weight-main',oh,nh);C('weight-main').textContent=cM.toFixed(0)+'g';UpdateForce(F,cDl);Last={mass:cM,constant:cK,extension:cDl,force:F}};window.saveToTable=()=>{if(!Last.force)return;const tb=C('history-table'),r=tb.insertRow(0);[Last.mass.toFixed(1),Last.constant.toFixed(1),Last.extension.toFixed(1),Last.force.toFixed(2)].forEach(v=>{r.insertCell().textContent=v});H.unshift(Last);if(H.length>15){H.pop();tb.deleteRow(15)}};window.saveToGraph=()=>{if(!Last.force)return;Data$.extensions.push(Last.extension);Data$.forces.push(Last.force);if(Data$.extensions.length>15){Data$.extensions.shift();Data$.forces.shift()}UpdateChart()};window.resetChart=()=>{Data$={forces:[],extensions:[]};C('history-table').innerHTML='';H=[];UpdateChart()};const SetupDrag=()=>{const a=C('spring-area-main'),w=C('weight-main');a.addEventListener('mousedown',e=>{if(e.target===w||w.contains(e.target))D={startY:e.clientY,startTop:parseFloat(w.style.top)||95}});document.addEventListener('mousemove',e=>{if(!D)return;let nt=D.startTop+(e.clientY-D.startY);nt=Math.max(95,Math.min(800,nt));w.style.top=nt+'px';const dl=(nt-95)/3;DrawSpring('path-main',95+dl*3);const k=parseFloat(C('constant').value)||50,m=(k*(dl/100)/g)*1e3,F=(m/1e3)*g;C('extension').value=dl.toFixed(2);C('mass').value=m.toFixed(2);C('displayForce').textContent=F.toFixed(2)+' N';UpdateForce(F,dl)});document.addEventListener('mouseup',()=>{D=null})};window.onload=()=>{DrawSpring('path-main',95);SetupDrag();UpdateChart()};
</script>

</body>
</html>

