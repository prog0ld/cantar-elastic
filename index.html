<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Laborator Fizică - Popa</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace; /* Stil de programator */
            margin: 0;
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        header {
            background: #333;
            color: white;
            padding: 10px;
            text-align: center;
            border-bottom: 4px solid #555;
        }

        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Cele doua coloane 50/50 */
        .column {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            border-right: 2px dashed #999;
            overflow-y: auto;
        }

        .column:last-child { border-right: none; }

        .panel {
            background: white;
            border: 2px solid #333;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 5px 5px 0px #999;
        }

        h2 { margin-top: 0; font-size: 1.2em; text-decoration: underline; }

        input {
            width: 80px;
            padding: 5px;
            margin: 5px;
            border: 1px solid #333;
        }

        button {
            padding: 8px 15px;
            background: #333;
            color: white;
            border: none;
            cursor: pointer;
            font-family: inherit;
        }

        button:hover { background: #555; }

        /* Resortul "Nefinisat" - Stil desenat */
        .spring-box {
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            background: #fff;
            border: 1px solid #ddd;
            margin-top: 10px;
            position: relative;
        }

        .spring-svg {
            stroke: black;
            stroke-width: 2;
            fill: none;
            transition: height 0.5s ease;
        }

        .weight-box {
            width: 40px;
            height: 40px;
            border: 2px solid black;
            background: #bbb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            position: absolute;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.8em;
            margin-top: 10px;
        }

        th, td { border: 1px solid #333; padding: 5px; text-align: center; }
        th { background: #eee; }

        footer {
            background: #333;
            color: #aaa;
            text-align: center;
            padding: 5px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>

<header>
    PROIECT FIZICĂ - LEGEA LUI HOOKE
</header>

<div class="main-container">
    <div class="column">
        <div class="panel">
            <h2>1. Calcul k (Experiment)</h2>
            <label>Masa (g):</label> <input type="number" id="m1" value="200"><br>
            <label>Delta L (cm):</label> <input type="number" id="dl1" value="5"><br>
            <button onclick="calcK()">Execută Calcul</button>
            <p>Rezultat k: <b id="resK">?</b> N/m</p>
        </div>

        <div class="spring-box">
            <svg class="spring-svg" id="svg1" width="40" height="100">
                <path id="path1" d="M20,0 L20,10 L10,20 L30,30 L10,40 L30,50 L10,60 L30,70 L20,80 L20,100" />
            </svg>
            <div id="w1" class="weight-box" style="top: 100px;">m</div>
        </div>

        <table>
            <thead><tr><th>m(g)</th><th>dL(cm)</th><th>k(N/m)</th></tr></thead>
            <tbody id="tab1"></tbody>
        </table>
    </div>

    <div class="column">
        <div class="panel">
            <h2>2. Calcul Delta L (Predicție)</h2>
            <label>Masa (g):</label> <input type="number" id="m2" value="500"><br>
            <label>Const. k (N/m):</label> <input type="number" id="k2" value="50"><br>
            <button onclick="calcDL()">Simulează</button>
            <p>Alungire: <b id="resDL">?</b> cm</p>
        </div>

        <div class="spring-box">
            <svg class="spring-svg" id="svg2" width="40" height="100">
                <path id="path2" d="M20,0 L20,10 L10,20 L30,30 L10,40 L30,50 L10,60 L30,70 L20,80 L20,100" />
            </svg>
            <div id="w2" class="weight-box" style="top: 100px;">m</div>
        </div>

        <table>
            <thead><tr><th>k(N/m)</th><th>m(g)</th><th>dL(cm)</th></tr></thead>
            <tbody id="tab2"></tbody>
        </table>
    </div>
</div>

<footer>
    * făcut de Popa | Clasa a IX-a Mate-Info | 2024
</footer>

<script>
    const G = 9.81;

    // Funcție pentru a desena resortul în zig-zag variabil
    function drawSpring(pathId, height) {
        const h = parseFloat(height);
        const steps = 7;
        const stepHeight = (h - 30) / steps;
        let d = `M20,0 L20,10`; // Capăt sus
        for(let i=0; i<steps; i++) {
            let x = (i % 2 === 0) ? 10 : 30;
            d += ` L${x},${20 + (i * stepHeight)}`;
        }
        d += ` L20,${h-10} L20,${h}`; // Capăt jos
        document.getElementById(pathId).setAttribute('d', d);
        document.getElementById(pathId).parentElement.setAttribute('height', h);
    }

    function calcK() {
        let m = document.getElementById('m1').value;
        let dl = document.getElementById('dl1').value;
        if(m <= 0 || dl <= 0) return;

        let k = ( (m/1000) * G ) / (dl/100);
        document.getElementById('resK').innerText = k.toFixed(2);
        
        // Animatie resort
        let visualH = 100 + (dl * 2); 
        drawSpring('path1', visualH);
        document.getElementById('w1').style.top = visualH + "px";
        document.getElementById('w1').innerText = m + "g";

        updateTable('tab1', [m, dl, k.toFixed(2)]);
    }

    function calcDL() {
        let m = document.getElementById('m2').value;
        let k = document.getElementById('k2').value;
        if(m <= 0 || k <= 0) return;

        let dlMetri = ( (m/1000) * G ) / k;
        let dlCm = dlMetri * 100;
        document.getElementById('resDL').innerText = dlCm.toFixed(2);

        // Animatie resort
        let visualH = 100 + (dlCm * 2);
        drawSpring('path2', visualH);
        document.getElementById('w2').style.top = visualH + "px";
        document.getElementById('w2').innerText = m + "g";

        updateTable('tab2', [k, m, dlCm.toFixed(2)]);
    }

    function updateTable(id, data) {
        let table = document.getElementById(id);
        let row = table.insertRow(0);
        data.forEach(text => {
            let cell = row.insertCell();
            cell.innerText = text;
        });
        if(table.rows.length > 10) table.deleteRow(10);
    }

    // Initializare
    drawSpring('path1', 100);
    drawSpring('path2', 100);
</script>

</body>
</html>

